<app-header></app-header>

<div class="container">

    <!-- {{ form.value | json }} -->

    <div *ngIf="success" class="alert alert-success alert-dismissible fade show" role="alert">
        <strong>Guardado</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

    <form [formGroup]="form" (ngSubmit)="enviarForm()">

        <app-card-config title="Informacion web" [loading]="loadingData">
            <div class="col-lg-6 col-12">
                <app-input-group icon="fas fa-home">
                    <input formControlName="title" (keyup)="test()" type="text" class="form-control" [ngClass]="{'is-invalid': isValidField('title')}"
                     placeholder="Titulo de la pagina web" aria-label="tiktok" aria-describedby="basic-tiktok">
                </app-input-group>

            </div>
            <div class="col-lg-6 col-6">
                <app-input-group icon="fas fa-home">
                    <input formControlName="iniciales" (keyup)="test()" type="text" class="form-control" placeholder="Iniciales" aria-label="iniciales" aria-describedby="basic-iniciales">
                </app-input-group>
            </div>
            <div class="col-lg-6 col-6">
                <app-input-group icon="fas fa-globe-americas">
                    <input formControlName="dominio" (keyup)="test()" type="text" class="form-control" [ngClass]="{'is-invalid': isValidField('dominio')}" placeholder="Dominio" aria-label="dominio" aria-describedby="basic-dominio">
                </app-input-group>
                
            </div>
            <div class="col-lg-6 col-12">
                <app-input-group icontext="S/.">
                    <input formControlName="ship_min" (keyup)="test()" type="number" step="0.01" class="form-control" placeholder="Monto minimo para envio gratis" aria-label="Monto minimo para envio gratis" aria-describedby="basic-envio-gratis">
                </app-input-group>
            </div>
        </app-card-config>
   

        <app-card-config title="Redes Sociales" [loading]="loadingData">
            <div class="col-lg-6 col-6">
                <app-input-group icon="fa-brands fa-tiktok">
                    <input formControlName="tiktok" (keyup)="test()" type="text" class="form-control" placeholder="TikTok" aria-label="tiktok" aria-describedby="basic-tiktok">
                </app-input-group>

            </div>
            <div class="col-lg-6 col-6">
                <app-input-group icon="fa-brands fa-facebook">
                    <input formControlName="facebook" (keyup)="test()" type="text" class="form-control" placeholder="Facebook" aria-label="facebook" aria-describedby="basic-facebook">
                </app-input-group>
            </div>
            <div class="col-lg-6 col-6">
                <app-input-group icon="fa-brands fa-instagram">
                    <input formControlName="instagram" (keyup)="test()" type="text" class="form-control" placeholder="Instagram" aria-label="instagram" aria-describedby="basic-instagram">
                </app-input-group>
            </div>
            <div class="col-lg-6 col-6">
                <app-input-group icon="fa-brands fa-whatsapp">
                    <input formControlName="whatsapp" (keyup)="test()" type="number" step="1" class="form-control" placeholder="Whatsapp" aria-label="whatsapp" aria-describedby="basic-whatsapp">
                </app-input-group>
            </div>
        </app-card-config>

        <button class="btn btn-primary w-100 py-2 d-flex align-items-center justify-content-center" [disabled]="form.invalid || buttonSubmitActive" type="submit">
            <span *ngIf="loadingSubmit" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                <i *ngIf="!loadingSubmit" class="fa-solid fa-lock me-2" style="font-size: 0.9rem;"></i>
            <span>Guardar Cambios</span>
        </button>

    </form>

</div>